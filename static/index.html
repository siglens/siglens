<!--
Copyright (c) 2021-2024 SigScalr, Inc.

This file is part of SigLens Observability Solution

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5SBJC04YFB"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-5SBJC04YFB');
</script>

<head>
    <meta charset="UTF-8">
    <title>SigLens</title>

    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="manifest" href="assets/site.webmanifest">
    <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">

    <link rel="stylesheet" href="./css/lib/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/lib/all.min.css" />
    <link rel="stylesheet" href="./css/lib/ag-grid.min.css" />
    <link rel="stylesheet" href="./css/lib/jquery-ui.min.css" />
    <link rel="stylesheet" href="./css/lib/jquery.tagsinput.min.css" />
    <link rel="stylesheet" href="./css/lib/jquery-ui.min.css" />
    <link rel="stylesheet" href="./css/lib/tippy.css" />
    <link rel="stylesheet" href="./css/siglens.css?cb={{ AppVersion }}" />
    <link rel="stylesheet" href="./css/query-builder.css?cb={{ AppVersion }}" />

    <script src="./js/lib/uuidv4.min.js"></script>
    <script src="./js/lib/lodash.min.js"></script>
    <script src="./js/lib/jquery-3.6.0.min.js"></script>
    <script src="./js/lib/jquery-ui.min.js"></script>
    <script src="./js/lib/js.cookie.min.js"></script>
    <script src="./js/lib/moment.min.js"></script>
    <script src="./js/lib/date_fns.min.js"></script>
    <script src="./js/lib/popper.min.js"></script>
    <script src="./js/lib/tippy-bundle.umd.min.js"></script>
    <script src="./js/lib/bootstrap.bundle.min.js"></script>
    <script src="./js/lib/ag-grid-community.min.noStyle.js"></script>
    <script src="./js/lib/chart.umd.min.js"></script>
    <script src="./js/lib/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="./js/lib/chartjs-plugin-zoom.min.js"></script>
    <script src="./js/lib/ace.js"></script>
    <script src="./js/lib/mode-json.js"></script>
    <script>
        var defaultTheme = Cookies.get('theme') || 'light';
        $('html').attr('data-theme', defaultTheme);
    </script>
    {{ .RunCheck1 | safeHTML }}
</head>

<body>
    <div class="pop-layer" id="pop-layer">
    </div>
    <div id="app-container">

        <div id="app-side-nav">
        </div>

        <div id="dashboard" class="dashboard-box">

            <div id="custom-code-tab" class="custom-code-tab w-100">
                <div class="query-builder-container">
                    <div class="dropdown-box">
                        <div class="d-flex logcontainer">
                            <ul class="tab-list">
                                <li class="tab-li tab-li-query" id="tab-title1"><a href="#tabs-1"
                                        class="custom-query-builder">Builder</a></li>
                                <li class="tab-li tab-li-code" id="tab-title2"><a href="#tabs-2"
                                        class="custom-query-builder">Code</a></li>
                            </ul>
                            <button class="format-icon" id="formatInput">Format</button>
                        </div>
                        <div class="dropdown-container">
                            <div class="d-flex">
                                <div style="margin-right: 5px;margin-top: 3px;">Indexes:</div>
                                <div class="index-container">
                                    <input type="text" name="" id="index-listing">
                                    <button id="add-index" class="add-con btn">+</button>
                                </div>
                            </div>
                            <div class="dropdown">
                                <button class="btn dropdown-toggle" type="button" id="date-picker-btn"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                    data-bs-toggle="dropdown">
                                    <span>Time Picker</span>
                                    <i class="dropdown-arrow"></i>
                                </button>
                                <div class="dropdown-menu daterangepicker" aria-labelledby="index-btn"
                                    id="daterangepicker ">
                                    <p class="dt-header">Search the last</p>
                                    <div class="ranges">
                                        <div class="inner-range">
                                            <div id="now-5m" class="range-item ">5 Mins</div>
                                            <div id="now-3h" class="range-item">3 Hrs</div>
                                            <div id="now-2d" class="range-item">2 Days</div>
                                        </div>
                                        <div class="inner-range">
                                            <div id="now-15m" class="range-item">15 Mins</div>
                                            <div id="now-6h" class="range-item">6 Hrs</div>
                                            <div id="now-7d" class="range-item">7 Days</div>
                                        </div>
                                        <div class="inner-range">
                                            <div id="now-30m" class="range-item">30 Mins</div>
                                            <div id="now-12h" class="range-item">12 Hrs</div>
                                            <div id="now-30d" class="range-item">30 Days</div>
                                        </div>
                                        <div class="inner-range">
                                            <div id="now-1h" class="range-item">1 Hr</div>
                                            <div id="now-24h" class="range-item">24 Hrs</div>
                                            <div id="now-90d" class="range-item">90 Days</div>
                                        </div>
                                        <hr>
                                        </hr>
                                        <div class="dt-header">Custom Search <span id="reset-timepicker"
                                                type="reset">Reset</span>
                                        </div>
                                        <div id="daterange-from"> <span id="dt-from-text"> From</span> <br />
                                            <input type="date" id="date-start" />
                                            <input type="time" id="time-start" value="00:00" />
                                        </div>
                                        <div id="daterange-to"> <span id="dt-to-text"> To </span> <br />
                                            <input type="date" id="date-end">
                                            <input type="time" id="time-end" value="00:00">
                                        </div>
                                        <div class="drp-buttons">
                                            <button class="applyBtn btn btn-sm btn-primary" id="customrange-btn"
                                                type="button">Apply</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn settings-btn" id="logs-settings">
                            </button>
                            <div id="setting-container">
                                <div>
                                    <div class="mb-3">
                                        <div class="text-bold">Query Language</div>
                                        <small class="grey-text">Default language for queries </small>
                                    </div>
                                    <div class="dropdown w-100">
                                        <button class="btn btn-grey dropdown-toggle w-100" type="button"
                                            id="query-language-btn" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false" data-bs-toggle="dropdown">
                                            <span>Splunk QL</span>
                                            <i class="dropdown-arrow"></i>
                                        </button>
                                        <div class="dropdown-menu box-shadow" aria-labelledby="index-btn"
                                            id="query-language-options">
                                            {{ .Dropdown2 | safeHTML }}
                                            <li id="option-3" class="query-language-option active">Splunk QL</li>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="pt-2">
                                    <div class="mb-3">
                                        <div class="text-bold">Default Query Mode</div>
                                        <small class="grey-text">Mode to open by default</small>
                                    </div>
                                    <div class="dropdown w-100">
                                        <button class="btn btn-grey dropdown-toggle w-100" type="button"
                                            id="query-mode-btn" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false" data-bs-toggle="dropdown">
                                            <span>Builder</span>
                                            <i class="dropdown-arrow"></i>
                                        </button>
                                        <div class="dropdown-menu box-shadow" aria-labelledby="index-btn"
                                            id="query-mode-options">
                                            <li id="mode-option-1" class="query-mode-option">Builder</li>
                                            <li id="mode-option-2" class="query-mode-option">Code</li>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div id="tabs-1">
                            <div class="filter-info">
                                <div id="filter-container">
                                    <div class="filter-con">
                                        <div class="filter-box" id="filter-box-1">
                                            <span class="aggregations" id="search-filter-text">Search filter</span>
                                            <ul id="tags" class="tags-list"></ul>
                                            <button id="add-con" class="add-con btn">+</button>
                                        </div>
                                        <div class="add-filter" id="add-filter">
                                            <input id="column-first" class="column-first" type="hidden"
                                                onkeyup="checkContent(this)" />
                                            <input id="symbol" class="symbol" type="hidden"
                                                onkeyup="checkContent(this)" />
                                            <input id="value-first" class="value-first" type="hidden"
                                                onkeyup="checkContent(this)" />
                                            <button id="completed" class="completed btn"></button>
                                            <button id="cancel-enter" class="cancel-enter btn">×</button>
                                        </div>
                                    </div>
                                    <div class="builder-div">stats</div>
                                    <div class="filter-con second-enter">
                                        <div class="filter-box" id="filter-box-2">
                                            <span class="aggregations" id="aggregate-attribute-text">Aggregation
                                                attribute</span>
                                            <ul id="tags-second" class="tags-list"></ul>
                                            <button id="add-con-second" class="add-con btn">+</button>
                                        </div>
                                        <div class="add-filter add-filters" id="add-filter-second">
                                            <input id="column-second" class="column-first" type="hidden"
                                                onkeyup="checkSecondContent(this)" />
                                            <input id="value-second" class="value-first" type="hidden"
                                                onkeyup="checkSecondContent(this)" />
                                            <button id="completed-second" class="completed btn"></button>
                                            <button id="cancel-enter-second" class="cancel-enter btn">×</button>
                                        </div>
                                    </div>
                                    <div class="builder-div">group by</div>
                                    <div class="filter-con third-enter">
                                        <div class="filter-box third-box" id="filter-box-3">
                                            <span class="aggregations" id="aggregations">Group by column name</span>
                                            <ul id="tags-third" class="tags-list"></ul>
                                            <button id="add-con-third" class="add-con btn">+</button>
                                        </div>
                                        <div class="add-filter add-third" id="add-filter-third">
                                            <input id="column-third" class="column-third" type="hidden" />
                                            <button id="cancel-enter-third" class="cancel-enter btn">×</button>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-end mt-2">
                                        <button class="custom-reset-button" id ="reset-query-btn" type="button">Reset</button>
                                    </div>
                                </div>
                                <button class="search-img" id="query-builder-btn"></button>
                            </div>
                        </div>
                        <div id="tabs-2">
                            <div class="filter-container">
                                <div class="position-relative search-bar-container">
                                    <i class="fa fa-info-circle position-absolute info-icon" rel="tooltip"
                                        id="info-icon-sql" style="display: none;"
                                        title=' SELECT MAX(latency), COUNT(city) FROM `*` GROUP BY country, gender LIMIT 10
                                                                            SELECT * FROM `ind-0`
                                                                            SELECT * FROM `ind-0` ORDER BY latency ASC
                                                                            SELECT first_name AS firstnames, country AS origincountry FROM `ind-0`
                                                                            SELECT MAX(latency), COUNT(city) FROM `*` WHERE gender = male GROUP BY country LIMIT 10
                                                                            SELECT * FROM `*` WHERE app_name = Wheataccount AND gender = male LIMIT 10'>

                                    </i>
                                    <i class="fa fa-info-circle position-absolute info-icon" rel="tooltip"
                                        id="info-icon-logQL" style="display: none;" title=' {app="mysql",name="mysql-backup"}
                                                                            {job="mysql"} |= "error"
                                                                            {name="cassandra"} |~ error=\w+
                                                                            {job="mysql"} |= "error" != "timeout"
                                                                            {job="mysql"} |= "error" | json | line_format "&lbrace;{.err}&rbrace;"
                                                                            '>
                                    </i>
                                    <i class="fa fa-info-circle position-absolute info-icon" rel="tooltip"
                                        id="info-icon-spl" style="display: block;" title=' app_version!=2.14.2 AND weekday=T*day
                                                                            city=Boston | stats count, avg(latency) BY weekday, http_method
                                                                            city=Boston | stats avg(latency) AS Avg BY weekday | eval Millis=Avg / 1000, Millis=Millis . " ms"
                                                                            city=Boston | ```This is a comment``` fields http*
                                                                            http_method=POST | regex city="^[a-zA-Z]+\s[a-zA-Z]+$" | fields city
                                                                            city=Boston | stats count AS Count BY weekday | where Count / 2 > 6 OR weekday = "Saturday"
                                                                            '>
                                    </i>
                                    <textarea class="form-control expandable-textarea" id="filter-input"
                                        placeholder="Enter your SPL query here, or click the 'i' icon for examples"
                                        type="text"></textarea>
                                    <span class="clear-icon" id="clearInput"></span>
                                </div>
                                <div class="text-end">
                                    <button class="btn run-filter-btn" id="run-filter-btn"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="record-searched"></div>
            <div id="progress-div"></div>

            <div class="histo-container">
                <div id="histogram-container"></div>
            </div>

            <div class="custom-chart-container">
                <div class="fields-sidebar">
                    <div id="selected-fields-header" class="fields-header">
                        <div>
                            <i class="fa fa-chevron-down"></i>
                            <span>Selected Fields</span>
                        </div>
                        <span class="field-count">0</span>
                    </div>
                    <div id="selected-fields-list" class="fields-list"></div>

                    <div id="available-fields-header" class="fields-header">
                        <div>
                            <i class="fa fa-chevron-down"></i>
                            <span>Available Fields</span>
                        </div>
                        <span class="field-count">0</span>
                    </div>
                    <div id="available-fields-list" class="fields-list"></div>
                </div>
                <div id="custom-chart-tab" class="custom-code-tab custom-chart-tab">
                    <div class="d-flex align-items-center">
                        <ul class="tab-chart-list">
                            <li class="tab-li" id="tab-table-title"><a href="#showTable"
                                    class="custom-query-builder">Table</a>
                            </li>
                            <li class="tab-li" id="tab-chart-title"><a href="#tabs-chart"
                                    class="custom-query-builder">Visualization</a>
                            </li>
                        </ul>
                        <div id="logs-view-controls">
                            <div id="save-query-div">
                                <button class="btn saveq-btn below-btn-img" id="saveq-btn"></button>
                                <button class="btn add-logs-to-db-btn below-btn-img" id="add-logs-to-db-btn"
                                    class="mx-3"></button>
                                <button class="btn alert-from-logs-btn below-btn-img" id="alert-from-logs-btn"></button>
                                <div class="dropdown download-btn">
                                    <button class="btn dropdown-toggle download-all-logs-btn below-btn-img"
                                        type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                        data-bs-toggle="dropdown">
                                    </button>
                                    <div class="dropdown-menu box-shadow download-options" aria-labelledby="index-btn"
                                        id="save-query-options">
                                        <li id="csv-block" class="query-language-option">Download as CSV</li>
                                        <li id="json-block" class="query-language-option">Download as JSON</li>
                                        <li id="xml-block" class="query-language-option">Download as XML</li>
                                        <li id="sql-block" class="query-language-option">Download as SQL</li>
                                    </div>
                                </div>
                                <button class="btn show-record-intro-btn below-btn-img"
                                    id="show-record-intro-btn"></button>
                                <div>
                                    <button class="btn below-btn-img" id="format-table"><svg
                                            xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="#160F29" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-pen-line-icon lucide-pen-line">
                                            <path d="M12 20h9" />
                                            <path
                                                d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z" />
                                        </svg></button>
                                    <div id="format-dropdown" style="display: none;">
                                        <div class="format-header mb-2 text-bold">Number Format</div>
                                        <label><input type="radio" name="numberFormat" value="plain"> No separators
                                            <span class="grey-text">(1234567)</span></label>
                                        <label><input type="radio" name="numberFormat" value="comma"> Use comma
                                            separators <span class="grey-text">(1,234,567)</span></label>
                                        <button id="apply-format" class="btn btn-primary">Apply</button>
                                    </div>
                                </div>
                                <button class="btn histogram-toggle-btn below-btn-img" id="histogram-toggle-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                                        style="color: var(--text-color); width: 12px; height: 12px;">
                                        <path fill="currentColor"
                                            d="M32 32C32 23.2 39.2 16 48 16s16 7.2 16 16V464H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H48C39.2 496 32 488.8 32 480V32zM160 160c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16V400c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V160zM288 96c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16V400c0 8.8-7.2 16-16 16H304c-8.8 0-16-7.2-16-16V96zM416 224c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16V400c0 8.8-7.2 16-16 16H432c-8.8 0-16-7.2-16-16V224z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div id="views-container">
                            <div class="btn-group" role="group" id="log-view">
                                <button class="btn log-opt-single-btn" id="log-opt-single-btn">
                                    <span class="single-line-icon"></span>
                                </button>
                                <button class="btn log-opt-multi-btn" id="log-opt-multi-btn">
                                    <span class="multi-line-icon"></span>
                                </button>
                                <button class="btn log-opt-table-btn" id="log-opt-table-btn">
                                    <span class="table-view-icon"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="tabs-chart" class="tab-content-size">
                        <div class="column-chart">
                            <div class="h-100">
                                <div class="d-flex gap-3">
                                    <div class="dropdown visualization-type" style="width: 120px;">
                                        <button class="btn dropdown-toggle btn-grey w-100" type="button"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                            data-bs-toggle="dropdown">
                                            <span>Bar Chart</span>
                                            <i class="dropdown-arrow"></i>
                                        </button>
                                        <div class="dropdown-menu box-shadow visualization-type-options">
                                            <li class="active">Bar Chart</li>
                                            <li>Line Chart</li>
                                        </div>
                                    </div>
                                    <button id="formatBtn" class="btn btn-grey mb-4">Format</button>
                                </div>
                                <div id="columnChart" style="height: calc(100% - 40px);"></div>
                            </div>
                            <div class="format-panel" id="formatPanel">
                                <div class="panel-header border-bottom">
                                    <span id="closeBtn" class="close-button">×</span>
                                </div>
                                <div class="format-panel-body d-flex">
                                    <div class="sidebar">
                                        <div class="sidebar-item active" data-section="x-axis">X-Axis</div>
                                        <div class="sidebar-item" data-section="y-axis">Y-Axis</div>
                                        <div class="sidebar-item" data-section="chart-overlay">Chart Overlay
                                        </div>
                                        <div class="sidebar-item" data-section="legend">Legend</div>
                                    </div>
                                    <!-- X-Axis section -->
                                    <div class="content-section" id="x-axis-section">
                                        <div class="form-row">
                                            <div class="form-label">Title</div>
                                            <div class="form-input">
                                                <input type="text" name="x-axis-title" placeholder="Enter X-Axis title">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Label Rotation</div>
                                            <div class="form-input">
                                                <div class="rotation-options">
                                                    <button class="rotation-btn" data-rotation="0">
                                                        <span class="rotation-icon rotation-0">abc</span>
                                                    </button>
                                                    <button class="rotation-btn" data-rotation="45">
                                                        <span class="rotation-icon rotation-neg45">abc</span>
                                                    </button>
                                                    <button class="rotation-btn" data-rotation="90">
                                                        <span class="rotation-icon rotation-neg90">abc</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Y-Axis section -->
                                    <div class="content-section" id="y-axis-section" style="display: none;">
                                        <div class="form-row">
                                            <div class="form-label">Title</div>
                                            <div class="form-input">
                                                <input type="text" name="y-axis-title" value="Primary Axis">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Interval</div>
                                            <div class="form-input">
                                                <input type="text" name="y-axis-interval" value="200">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Min Value</div>
                                            <div class="form-input">
                                                <input type="text" name="y-axis-min" placeholder="optional">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Max Value</div>
                                            <div class="form-input">
                                                <input type="text" name="y-axis-max" value="1000">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Number Abbreviations</div>
                                            <div class="form-input">
                                                <div class="button-group">
                                                    <button class="group-btn active">Off</button>
                                                    <button class="group-btn">On</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Chart Overlay section -->
                                    <div class="content-section" id="chart-overlay-section" style="display: none;">
                                        <div class="form-row">
                                            <div class="form-label">Metrics for Secondary Axis</div>
                                            <div class="form-input">
                                                <div class="tags-input-container">
                                                    <div class="selected-tags" id="selectedTags"></div>

                                                    <div class="tag-dropdown-container">
                                                        <button class="add-con btn" id="addTagBtn">+</button>
                                                        <div class="tag-dropdown" id="tagDropdown">
                                                            <div class="tag-dropdown-content" id="tagDropdownContent">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">View as Axis</div>
                                            <div class="form-input">
                                                <div class="button-group">
                                                    <button class="group-btn">On</button>
                                                    <button class="group-btn active">Off</button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Title</div>
                                            <div class="form-input">
                                                <input type="text" name="overlay-title" value="Conversion Rates">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Interval</div>
                                            <div class="form-input">
                                                <input type="text" name="overlay-interval" value="200">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Min Value</div>
                                            <div class="form-input">
                                                <input type="text" name="overlay-min" placeholder="optional">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Max Value</div>
                                            <div class="form-input">
                                                <input type="text" name="overlay-max" value="1000">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Number Abbreviations</div>
                                            <div class="form-input">
                                                <div class="button-group">
                                                    <button class="group-btn active">Off</button>
                                                    <button class="group-btn">On</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Legend section -->
                                    <div class="content-section" id="legend-section" style="display: none;">
                                        <div class="form-row">
                                            <div class="form-label">Show Legend</div>
                                            <div class="form-input">
                                                <div class="button-group">
                                                    <button class="group-btn active">Yes</button>
                                                    <button class="group-btn">No</button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-label">Position</div>
                                            <div class="form-input">
                                                <div class="dropdown legends-position" style="width: 120px;">
                                                    <button class="btn dropdown-toggle btn-grey w-100" type="button"
                                                        data-toggle="dropdown" aria-haspopup="true"
                                                        aria-expanded="false" data-bs-toggle="dropdown">
                                                        <span>Left</span>
                                                        <i class="dropdown-arrow"></i>
                                                    </button>
                                                    <div class="dropdown-menu box-shadow legends-position-options">
                                                        <li class="active">Left</li>
                                                        <li>Right</li>
                                                        <li>Top</li>
                                                        <li>Bottom</li>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="hideGraph" class="hide-graph">
                            <div class="hide-graph-text">This query does not contain visualization data</div>
                        </div>
                    </div>
                    <div id="showTable" class="show-table">
                        <div id="logs-result-container" class="tab-content-size">
                            <div id="LogResultsGrid" class="LogResultsGrid ag-theme-mycustomtheme"></div>
                        </div>
                        <div id="agg-result-container" class="tab-content-size">
                            <div id="measureAggGrid" class="measureAggGrid ag-theme-mycustomtheme"></div>
                        </div>
                        <div id="pagination-container"></div>
                    </div>
                </div>
                <div class="json-popup"></div>
            </div>
            <div id="empty-response"></div>
            <div id="corner-popup">
                <div class="corner-container">
                    <div class="icon-container">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                            </path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </div>
                    <div class="corner-text" id="corner-text"></div>
                    <div class="sub-message"></div>
                </div>
            </div>

        </div>

        <div id="save-queries">
            <p class="validateTips"></p>
            <form>
                <fieldset>
                    <div>
                        <label class="mb-1">Name</label>
                        <input type="text" name="qname" id="qname" placeholder="Address Lookup"
                            class="text ui-widget-content ui-corner-all">
                    </div>
                    <div>
                        <div class="d-flex mt-4"><label class="mb-1">Description</label><span
                                class="grey-text mx-1">(Optional)</span></div>
                        <textarea rows="2" type="text" name="description" id="description"
                            placeholder="Add a description..."
                            class="text ui-widget-content ui-corner-all w-100"></textarea>
                    </div>
                    <div>
                        <div class="fst-italic mt-3 note-box">Manage all queries in the <a
                                href="./saved-queries.html">Saved Queries</a> library</div>
                    </div>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <div class="show-record-popup" id="show-record-popup">
            <form>
                <fieldset>
                    <div id="hits-summary" class="hits-summary"></div>
                </fieldset>
            </form>
        </div>
        <div id="download-info" class="save-query">
            <p class="validateTips" id="validateTips"></p>
            <form>
                <fieldset>
                    <div>
                        <label class="mb-1">File Name</label>
                        <input type="text" name="qnameDL" id="qnameDL" placeholder="logs_export"
                            class="text ui-widget-content ui-corner-all">
                        <small class="grey-text mb-0 mt-1 ">Name may consist of a-z, 0-9, period, dash, underscores</small>
                    </div>
                    <div class="mb-3">
                        <label class="mb-1 mt-4">Format</label>
                        <input readonly id="format">
                    </div>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Dashboard Popup-->
        <div class="popupOverlay"></div>
        <div class="popupContent" id="create-db-popup">
            <div class="p-4 border-bottom">
                <h3 class="header mb-2">Add panel to dashboard</h3>
                <p class="mb-0">Create a new dashboard or add to an existing one</p>
            </div>
            <div class="p-4 border-bottom">
                <div class="section-buttons mb-3">
                    <div class="section-button active new-dashboard-btn"><a>New Dashboard</a></div>
                    <div class="section-button existing-dashboard-btn"><a>Existing Dashboard</a></div>
                </div>
                <div class="new-dashboard">
                    <div>
                        <label class="mb-1">Dashboard name</label>
                        <input type="text" placeholder="New dashboard" class="input" id="db-name">
                        <p class="error-tip">Dashboard name is required!</p>
                        <div class="d-flex mt-4"><label class="mb-1">Description</label><span
                                class="grey-text mx-1">(Optional)</span></div>
                        <textarea rows="2" type="text" placeholder="Add a description..." class="input w-100"
                            id="db-description"></textarea>
                    </div>
                </div>
                <div class="existing-dashboard">
                    <p class="mt-3 mb-3">Select in which dashboard the panel will be created.</p>
                    <div class="dropdown w-100">
                        <button class="btn dropdown-toggle btn-grey w-100" type="button" id="selected-dashboard"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-bs-toggle="dropdown">
                            <span>Choose Dashboard</span>
                            <i class="dropdown-arrow"></i>
                        </button>
                        <div class="dropdown-menu box-shadow" aria-labelledby="index-btn" id="dashboard-options">
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-center justify-content-end gap-4 p-4">
                <button type="button" id="cancel-dbbtn" class="my-0 btn btn-secondary">Cancel</button>
                <button type="button" id="create-db" class="btn btn-primary">Create Dashboard</button>
                <button type="button" id="create-panel" class="btn btn-primary">Create Panel</button>
            </div>
        </div>
        <div class="addrulepopupOverlay"></div>
        <div class="addrulepopupContent popupContent p-0">
            <div class="p-4 border-bottom">
                <h3 class="header mb-0">Create Alert</h3>
            </div>
            <div class="popupcont p-4 border-bottom">
                <label class="mb-1">Enter alert rule name</label>
                <input type="text" id="rule-name" name="rule-name" required placeholder="Name">
                <p class="rule-name-error"></p>
                <div class="fst-italic mt-3 note-box">You'll be able to configure alert conditions in the next step.
                </div>
            </div>
            <div class="d-flex gap-4 justify-content-end p-4">
                <button type="button" id="addrule-cancel-btn" class="btn btn-secondary">Cancel</button>
                <button type="button" id="addrule-save-btn" class="btn btn-primary">Add
                    <img src="assets/new-tab-white-icon.svg">
                </button>
            </div>
        </div>

        <div class="popupContent" id="error-popup">
            <h3 class="header mb-2"><span><i class="fas fa-exclamation-triangle"></i></span> Error loading data</h3>
            <p class="mt-3">The search settings were changed. To see the updated results, please press the <span
                    style="color: #6449D6; font-weight: 600;">magnifying glass</span> icon.
            <p>
            <div class="d-flex align-items-center justify-content-end mt-3">
                <button type="button" id="okay-button" class="btn">OK</button>
            </div>
        </div>

        <div id="app-footer">
        </div>

    </div>

    <script src="./js/navbar.js?cb={{ AppVersion }}"></script>
    <script src="./js/common.js?cb={{ AppVersion }}"></script>
    <script src="./js/event-handlers.js?cb={{ AppVersion }}"></script>
    <script src="./js/available-fields.js?cb={{ AppVersion }}"></script>
    <script src="./js/log-results-grid.js?cb={{ AppVersion }}"></script>
    <script src="./js/ag-grid-seg-stats.js?cb={{ AppVersion }}"></script>
    <script src="./js/date-picker.js?cb={{ AppVersion }}"></script>
    <script src="./js/search.js?cb={{ AppVersion }}"></script>
    <script src="./js/saved-query.js?cb={{ AppVersion }}"></script>
    <script src="./js/download-logs.js?cb={{ AppVersion }}"></script>
    <script src="./js/index.js?cb={{ AppVersion }}"></script>
    <script src="./js/log-search.js?cb={{ AppVersion }}"></script>
    <script src="./js/dashboard-from-logs-metrics.js?cb={{ AppVersion }}"></script>
    <script src="./js/query-builder.js?cb={{ AppVersion }}"></script>
    <script src="./js/logs-visualization.js?cb={{ AppVersion }}"></script>
    <script src="./js/logs-histogram.js?cb={{ AppVersion }}"></script>
    <script src="./js/logs-pagination.js?cb={{ AppVersion }}"></script>
    <script src="./js/footer.js?cb={{ AppVersion }}"></script>

    {{ .RunCheck2 | safeHTML }}
    {{ .RunCheck3 | safeHTML }}

</body>

</html>